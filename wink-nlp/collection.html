<!DOCTYPE html> <html lang=en> <head> <meta charset=utf-8> <title>Collection : winkNLP - NLP in Node.js</title> <link rel=icon type="image/png" href="/favicon.png"> <script src="/wink-nlp/scripts/prettify/prettify.js"></script> <script src="/wink-nlp/scripts/prettify/lang-css.js"></script> <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]--> <link rel=stylesheet href="/wink-nlp/styles/prettify.css"> <link rel=stylesheet href="/wink-nlp/styles/jsdoc.css"> <meta name=viewport content="width=device-width, initial-scale=1.0"> </head> <body> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-47082559-2"></script> <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-47082559-2');
  </script> <script src="https://use.typekit.net/cwc1qce.js"></script> <script>
    ((window.gitter = {}).chat = {}).options = {
      room: 'winkjs/Lobby'
    };
    window.onload = function () {
      document.querySelector('.gitter-open-chat-button').innerText = 'Need help?'
      document.querySelector('.gitter-open-chat-button').style.display = 'block';
    }
  </script> <script src="https://sidecar.gitter.im/dist/sidecar.v1.js" async defer></script> <script>try{Typekit.load({ async: true });}catch(e){}</script> <style media=screen>
    .navbar {
      border-top: 4px solid #6C307D;
      box-sizing: border-box;
      height: 64px;
      background-color: #222;
      position: fixed;
      top: 0;
      right: 0;
      left: 0;
      z-index: 1030;
      display: flex;
      justify-content: space-between;
    }

    .navbar-header {
      font-weight: bold;
      font-size: 30px;
    }

    .navbar-header a img {
      height: 24px;
    }

    .navbar a {
      color: #fff;
      line-height: 60px;
      margin-left: 0;
    }

    .navbar a.navbar-brand {
      margin-left: 20px;
      display: block;
      min-width: 40px;
    }

    .navbar-right {
      margin: 0;
      line-height: 50px;
      list-style: none;
    }

    .navbar-right li {
      float: left;
      margin-right: 20px;
      text-transform: uppercase;
      letter-spacing: 1px;
      padding-left: 20px;
      font-size: 14px;
    }

    /* Override docdash */
    #main {
      margin-top: 30px;
    }

    /* Gitter */
    .gitter-open-chat-button {
      background: #6C307D;
      display: none;
    }

    .gitter-open-chat-button:hover {
      opacity: 0.8;
      background: #6C307D;
    }

    .gitter-chat-embed {
      top: 64px;
    }

    .leave-feedback-button {
      right: 175px;
      background: #6C307D;
      color: #fff;
      z-index: 100;
      position: fixed;
      bottom: 0;
      padding: 1em 3em;
      border: 0;
      border-top-left-radius: .5em;
      border-top-right-radius: .5em;
      font-family: sans-serif;
      font-size: 12px;
      letter-spacing: 1px;
      text-transform: uppercase;
      text-align: center;
      text-decoration: none;
      cursor: pointer;
      cursor: hand;
      transition: all .3s ease;
  }

  @media screen and (min-width: 0px) and (max-width: 720px) {
    .leave-feedback-button{ display: none !important; }
  }
  </style> <script>
    window.addEventListener('DOMContentLoaded', function () {
      if ( window.location.hash ) {
        openMember();
        window.setTimeout( function () {
          window.scrollTo( 0, (window.pageYOffset || document.documentElement.scrollTop) - 72);
        }, 0)
      }

      document.getElementById('toc-button').addEventListener('click', function () {
        if (document.getElementById('side-nav').className === '') {
          document.getElementById('side-nav').className = 'is-open';
          document.getElementById('toc-button-img').setAttribute('src','./images/ui/close.svg');
        } else {
          document.getElementById('side-nav').className = '';
          document.getElementById('toc-button-img').setAttribute('src','./images/ui/menu.svg');
        }
      })
    });

    window.addEventListener( 'hashchange', function (e) {
      e.stopPropagation();
      openMember();
    } );

    function openMember() {
      var id = window.location.hash.substr(1),
      toggler = document.getElementById( id ),
      offset = toggler.getBoundingClientRect().top,
      y = window.scrollY + offset - 62 - 10;
      window.scrollTo(0, y);
    }
  </script> <header> <div class=navbar> <div class=navbar-header> <a href="https://winkjs.org/" title=wink class=navbar-brand> <img src="https://winkjs.org/images/logo.svg"> <span>wink</span> </a> </div> <div class=sausage-links> <ul class="nav navbar-nav navbar-right collapse navbar-collapse" id=main-nav> <li><a href="https://winkjs.org/wink-nlp/getting-started.html" class="">Tutorial</a></li> <li><a href="https://winkjs.org/examples.html" class="">Examples</a></li> <li><a href="https://winkjs.org/blog.html" class="">Blog</a></li> <li><a href="http://github.com/winkjs">Github</a></li> <li><a href="https://winkjs.org/about.html" class="">About</a></li> </ul> </div> </div> </header> <div id=toc-button> <img src="./images/ui/menu.svg" alt="" id=toc-button-img> </div> <div class=content-container> <div class=main-container> <div id=main> <section> <article> <h1 id=collection>Collection</h1> <p>A collection may be thought of as similar to the JavaScript Array. It contains zero or more items of the <strong>same type</strong>. There are three item types — token, entity, and sentence.</p> <div class="docs-tip docs-tip--blue"> <strong>Convention:</strong> A collection name is always in the <strong>plural</strong> i.e. sentences, entities, and tokens; whereas an item name is always in the <strong>singular</strong> i.e. sentence, entity and token. </div> <ul> <li>Access a specific item using <code>itemAt()</code></li> <li>Filter items to form a new collection using <code>filter()</code></li> <li>Iterate through items using <code>each()</code></li> <li>Produce output with <code>out()</code></li> <li>Find its length using <code>length()</code></li> </ul> <p>By default, the <code>readDoc()</code> method automatically creates three collections — <strong>sentences</strong>, named <strong>entities</strong>, and <strong>tokens</strong>.</p> <div class="docs-tip docs-tip--yellow"> While collections are conceptually similar to JavaScript collections such as <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Indexed_collections">arrays</a> or <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Keyed_collections">sets</a>, their implementation and API is limited to the above functions. To get JavaScript data types take a look at out(). </div> <p>Let’s explore the API with the help of the following text that has been transformed into a document:</p> <pre class="prettyprint source lang-javascript"><code>const text = `The Godfather premiered on March 15, 1972. It was released on March 24, 1972. It is the first installment in The Godfather trilogy. The story of the movie spans from 1945 to 1955. About 90 percent of the film was shot in New York City. The movie was made on a budget of $7.2 million. And it has a running time of 177 minutes.`;

const doc = nlp.readDoc( text );</code></pre> <h2 id=access-a-specific-item>Access a specific item</h2> <p>An item of a collection is accessed via the <code>itemAt()</code> method:</p> <pre class="prettyprint source lang-javascript"><code>/// Access 3rd sentence of the document:
// 'The story of the movie spans from 1945 to 1955.'
const sentence3 = doc.sentences().itemAt(3);

// Access 2nd entity of the document:
// 'first'
const entity2 = doc.entities().itemAt(2);

// Access 1st token of the document:
// 'Godfather'
const token1 = doc.tokens().itemAt(1);
</code></pre> <div class="docs-tip docs-tip--yellow"> Like JavaScript, <code>itemAt()</code> uses a 0-based index and returns <a href="https://developer.mozilla.org/en-US/docs/Glossary/Undefined">undefined</a> when a non-existent item (i.e. outside the valid range) is accessed. </div> <h2 id=filter-items>Filter items</h2> <p>Items can be filtered on the basis of their properties, to form a filtered collection. For example, you can filter all “date” entities, remove stop words, or select only words that have been negated.</p> <p>Like JavaScript’s array filter method, the <code>filter()</code> method in a collection returns a new collection of items that pass the test provided in the callback function.</p> <p>Filters provide a quick and easy way to extract information. The following example selects tokens from the 3rd sentence of the document that are of type ‘word’ and are not stop words:</p> <pre class="prettyprint source lang-javascript"><code>doc.sentences()
  .itemAt(3) // The story of the movie spans from 1945 to 1955.
  .tokens()
  .filter(
    (t) =&gt; t.out(its.type) === 'word' &amp;&amp; !t.out(its.stopWordFlag)
   )
  .out();
// Returns:
// [ 'story', 'movie', 'spans' ]
</code></pre> <div class="docs-tip docs-tip--yellow"> <code>its</code> is a helper and is required using the following statement:<br/> <code>const its = require( 'wink-nlp/src/its.js' );</code> </div> <h2 id=iterate-through-items>Iterate through items</h2> <p>Similar to a JavaScript array, collections have a <code>forEach()</code> method to iterate over its items. It also has a <code>length()</code> method to get the number of items. Let’s count the number of dates in the example text and then print them out:</p> <pre class="prettyprint source lang-javascript"><code>doc.entities().length()
// -&gt; 2

doc.entities()
        .each((e) =&gt; {
          if (e.out(its.type) === 'DATE')
            console.log(e.out());
        } );
// -&gt; 'March 15, 1972'
// -&gt; 'March 24, 1972'</code></pre> <div class="docs-tip docs-tip--green"> Note '1945 to 1955' is not printed as it is of type duration and not of type date. </div> <p>The <code>each()</code> method calls the provided callback function once for every entity in the entities collection beginning from 0th entity item to the last.</p> <h2 id=produce-output>Produce output</h2> <p>The <code>collection.out()</code> method by default returns an array of values of items in the collection:</p> <pre class="prettyprint source lang-javascript"><code>doc.sentences().out(); // Returns:
[ 'The Godfather premiered on March 15, 1972.'
  'It was released on March 24, 1972.'
  'It is the first installment in The Godfather trilogy.'
  'The story of the movie spans from 1945 to 1955.'
  'About 90 percent of the film was shot in New York City.'
  'The movie was made on a budget of $7.2 million.'
  'And it has a running time of 177 minutes.' ]
doc.entities().out(); // Returns:
[ 'March 15, 1972',
  'March 24, 1972',
  'first',
  'from 1945 to 1955',
  'About 90 percent',
  '$7.2 million',
  '177 minutes' ]
doc.tokens().out(); // Returns:
[ 'The', 'Godfather', 'premiered', ... '177', 'minutes', '.' ]</code></pre> <p>It is possible to obtain array of any property of items in a collection:</p> <pre class="prettyprint source lang-javascript"><code>doc.entities().out( its.type ); // Returns:
[ 'DATE',
  'DATE',
  'ORDINAL',
  'DURATION',
  'PERCENT',
  'MONEY',
  'DURATION' ]</code></pre> <div class=l-horizontal> <a href="document.html" class=bottom-nav-link> <span class=bottom-nav-link__title>Previous</span> Document </a> <a href="item.html" class="bottom-nav-link next-nav-link"> <span class=bottom-nav-link__title>Next</span> Item &amp; its properties </a> </div> </article> </section> </div> </div> <div class=side-nav-container> <nav id=side-nav class=side-nav> <h2><a href="/wink-nlp/">Overview</a></h2> <h2><a href="https://github.com/winkjs/wink-nlp">Github</a></h2> <h2><a target=_blank href="https://observablehq.com/@winkjs/">How to's</a></h2> <h3>Concepts</h3> <ul> <li><a href="getting-started.html">Getting started</a></li> <li><a href="processing-pipeline.html">Processing pipeline</a></li> <li><a href="document.html">Document</a></li> <li><a href="collection.html">Collection</a></li> <li><a href="item.html">Item & its properties</a></li> <li><a href="leveraging-out.html">Leveraging .out()</a></li> <li><a href="visualizing-markup.html">Visualizing using markup</a></li> <li><a href="custom-entities.html">Custom Entities</a></li> <li><a href="wink-nlp-in-browsers.html">WinkNLP in browsers</a></li> </ul> <h3>Utilities</h3> <ul> <li><a href="its-as-helper.html">its & as helper</a></li> <li><a href="similarity.html">Similarity</a></li> <li><a href="bm25-vectorizer.html">BM25 Vectorizer</a></li> <li><a href="language-models.html">Language models</a></li> <li><a href="part-of-speech.html">Part-of-Speech tags</a></li> </ul> <h3>API</h3> <ul> <li><a href="read-doc.html">readDoc</a></li> <li><a href="learn-custom-entities.html">learnCustomEntities</a></li> <li><a href="sentences.html">sentences</a></li> <li><a href="entities.html">entities</a></li> <li><a href="custom-entities-method.html">customEntities</a></li> <li><a href="tokens.html">tokens</a></li> <li><a href="out.html">out</a></li> <li><a href="each.html">each</a></li> <li><a href="length.html">length</a></li> <li><a href="item-at.html">itemAt</a></li> <li><a href="filter.html">filter</a></li> <li><a href="markup.html">markup</a></li> <li><a href="index-method.html">index</a></li> <li><a href="parent-document.html">parentDocument</a></li> <li><a href="parent-sentence.html">parentSentence</a></li> <li><a href="parent-entity.html">parentEntity</a></li> <li><a href="parent-custom-entity.html">parentCustomEntity</a></li> </ul> </nav> </div> </div> <br class=clear> <footer> <p> &copy; <a href="http://graype.in">graype systems</a> pvt. ltd. </p> </footer> <script>prettyPrint();</script> <script src="scripts/linenumber.js"></script> <script src="https://embed.runkit.com"></script> <script>
    var els = document.getElementsByClassName("runkit");

    Array.prototype.forEach.call(els, function(el) {
      // Do stuff here
      var source = el.innerHTML;
      el.innerHTML = '';
      var n = RunKit.createNotebook( {
        element: el,
        source: source
      } );
    });
  </script> <a href="https://docs.google.com/forms/d/e/1FAIpQLScormuaSPmnZ_jD2hqNXlfoj_vKDw-LKZ1rE69MCi9kaBGvGw/viewform?entry.754933393=/wink-nlp/collection.html" target=_blank class=leave-feedback-button style="display: block;">Leave feedback</a> </body> </html>